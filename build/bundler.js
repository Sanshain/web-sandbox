var simplestBundler=function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(undefined),o={};const l=[".ts",".js"];var i=[];o.combine=function(t,e,n){return i=[],t=function(t,e,n){console.log("importInsert...");let r=new a(e,n.getContent||f),o=/^import \* as (?<module>\w+) from \"\.\/(?<filename>\w+)\";?/gm;t=t.replace(o,u.bind(r)),o=/^import {([\w, ]+)} from ['"]\.\/([\w\.]+)['"];?/gm,t=t.replace(o,c.bind(r)),o=/^import ([\w, ]+) from ['"].\/([\w\.\/]+)['"];?/gm,t=t.replace(o,s.bind(r)),n&&n.release&&(t=(t=t.replace(/\/\*[\s\S]*?\*\//g,"")).replace(/\/\/[\s\S]*?\n/g,"\n"));return t}(t=function(t){return t.replace(/\/\*-lazy\*\/[\s\S]*?\/\*lazy-\*\//,"")}(t),e,n),t};class a{constructor(t,e){this.dirPath=t,this.getContent=e}}function s(t,e,n,r,o){var l=this.getContent(n);if(""==l||!l)return"";e=e.split(",").map((t=>t.trim()));const i=Array.from(l.matchAll(/^export default (function|class) (\w+)[ ]*\([\w, ]*\)[\s]*{[\w\W]*?\n}/gm));console.log(t),t="";for(let n of i)e.includes(n[2])&&(t+=n[0].substr(7).replace("default ","")+"\n\n");return l=`\n/*start of ${n}*/\n${t.trim()}\n/*end*/\n\n`}function c(t,e,n,r,o){console.log("wrapsPack...");var l=this.getContent(n);if(""==l||!l)return"";e=e.split(",").map((t=>t.trim()));let i=Array.from(l.matchAll(/^export (let|var) (\w+) ?(\: [\<\>\[\]\w\|]+)? = [^\n]+/gm)),a=Array.from(l.matchAll(/^export (function) (\w+)[ ]*\([\w, \:\<\>\[\]\|&\{\}]*\)(: [\w\|\<\>\{\} :]+)?[\s]*{[\w\W]*?\n}/gm)),s=Array.from(l.matchAll(/^export (class) (\w+)([\s]*{[\w\W]*?\n})/gm));var c=i.concat(a,s);t="";for(let n of c)e.includes(n[2])&&(t+=n[0].substr(7)+"\n\n");return l=`\n/*start of ${n}*/\n${t.trim()}\n/*end*/\n\n`}function u(t,e,n,r,o){var l=this.getContent(n);if(""==l||!l)return"";let i=[];return l=(l=l.replace(/^(let|var) /gm,"let ")).replace(/^export (let|var|function|class) (\w+)/gm,(function(t,e,n,r,o){return i.push("\t\t"+n+":"+n),e+" "+n})),l=`\n/*start of ${n}*/\n${l="{\n"+(l+=`\n\nvar ${e} = {\n ${i.join(",\n")} \n}`).replace(/^([\S \t])/gm,"    $1")+"\n}"}\n/*end*/\n\n`}function f(t){const e=r.default;t=this.dirPath+"/"+t;for(let n of l)if(e.existsSync(t+n)){t+=n;break}return i.includes(t)?(console.warn(`attempting to re-import '${t}' into 'base.ts' has been rejected`),""):(i.push(t),e.readFileSync(t).toString())}var m={build:o.combine};const p=(t,e)=>[t.slice(0,e),t.slice(e)];return t.default=function(t,e){let n=[],r=m.build;return globalThis.__debug&&console.log(r),m.build(t,".",{getContent:function(t){if(~n.indexOf(t))return console.warn(`attempting to re-import '${t}' into 'base.ts' has been rejected`),"";return n.push(t),e[t]}})},t.thisBuild=function(t,e){function n(t,n,r,o,l){console.log(l);let[i,a]=p(p,o),s=new Blob([e[r]],{type:"text/html"}),c=URL.createObjectURL(s);return i+a.replace(r,"/"+c.split("/").pop())}let r;r=/^import {([\w, ]+)} from ['"](\.\/[\w\.]+)['"];?/gm,t=t.replace(r,n),r=/^import ([\w, ]+) from ['"](.\/[\w\.\/]+)['"];?/gm,t=t.replace(r,n)},Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=bundler.js.map
