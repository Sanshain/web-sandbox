{"version":3,"file":"page_compiler.js","sources":["../source/features/compiler.js","../source/utils/page_generator.js","../source/pageBuilder.js"],"sourcesContent":["const reactCompiler = {\r\n    react: 'https://unpkg.com/react@17/umd/react.production.min.js',\r\n    reactDOM: 'https://unpkg.com/react-dom@17/umd/react-dom.production.min.js',\r\n}\r\n\r\nconst vueCompiler = {\r\n    // vue: \"https://unpkg.com/vue@2.5.17/dist/vue.js\"\r\n    vue: 'https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.14/vue.min.js'\r\n}\r\n\r\nconst preactCompiler = {\r\n    // set: './build/_preact.js',\r\n    // set: '~/build/_preact.js',\r\n\r\n    // preact: 'https://cdnjs.cloudflare.com/ajax/libs/preact/11.0.0-experimental.1/preact.umd.min.js',     // preact\r\n    // hooks: 'https://cdnjs.cloudflare.com/ajax/libs/preact/11.0.0-experimental.1/hooks.umd.min.js',      // hooks\r\n    // compat: 'https://cdnjs.cloudflare.com/ajax/libs/preact/11.0.0-experimental.1/compat.umd.min.js'     // react\r\n\r\n    // set: 'http://127.0.0.1:3000/build/_preact.js',\r\n\r\n    set: document.location.origin + (~document.location.host.indexOf('3000') ? '/build/_preact.js' : '/static/js/compiler_libs/_preact.js'),\r\n}\r\n\r\n\r\nexport const babelCompiler = {\r\n    link: 'https://unpkg.com/@babel/standalone/babel.min.js',\r\n    mode: ' type=\"text/babel\" '\r\n}\r\n\r\n\r\n// export const reactCompilers = [babelCompiler.link, reactCompiler.react, reactCompiler.reactDOM];\r\n\r\n// export const reactCompilers = [\r\n//     preactCompiler.set,\r\n//     babelCompiler.link,\r\n// ];\r\n\r\n// export const reactCompilers = [\r\n//     vueCompiler.vue\r\n// ];\r\n\r\n\r\nexport const compilers = {\r\n    vanile: undefined,\r\n    preact: [babelCompiler.link].concat(Object.values(preactCompiler)),\r\n    vue: Object.values(vueCompiler),\r\n    react: [babelCompiler.link].concat(Object.values(reactCompiler)),    \r\n};\r\n\r\n\r\nexport const defaultValues = [\r\n    // html\r\n    {\r\n        html: '<h2 onclick=\"greeting(event)\">\\n\\tHello world!\\n</h2>',\r\n        css: 'h2 {\\n\\tcolor: green;\\n\\tcursor: pointer; \\n}',\r\n        javascript: 'function greeting(event){\\n\\talert(\"greeting!\")\\n}'\r\n    },\r\n    // preact\r\n    {\r\n        html: '<div id=\"root\"></div>',\r\n        css: '#root{\\n\\tcolor: red;\\n}',\r\n        javascript: \"const name = 'world'; \\n\\trender(\\n\\t<h1>Hello {name}</h1>, \\n\\tdocument.getElementById('root')\\n);\"\r\n    },\r\n    // vue\r\n    {\r\n        html: '<div id=\"app\">\\n\\t<input type=\"text\" v-on:input=\"setMsg\" />\\n\\t<p>{{msg}}</p>\\n</div>',\r\n        css: '#app { \\n\\tcolor: green; \\n}',\r\n        javascript: \"new Vue({\\n\\tel: '#app', \\n\\tdata: {\\n\\t\\tmsg: 'Hello Vue!'\\n\\t}, \\n\\tmethods: {\\n\\t\\tsetMsg: function(e){\\n\\t\\t\\tthis.msg = e.target.value;\\n\\t\\t}\\n\\t}\\n})\"\r\n    },\r\n    // react\r\n    {\r\n        html: '<div id=\"root\"></div>',\r\n        css: '#root{\\n\\tcolor: red;\\n}\\nh1{\\n\\tcursor: pointer;\\n\\tuser-select: none;\\n}',\r\n        // javascript: \"const name = 'world'; \\n\\nReactDOM.render(\\n\\t<h1>Привет, {name}!</h1>, \\n\\tdocument.getElementById('root')\\n);\"\r\n        javascript: \"const name = 'world';function App(){\\n\\tconst [count, setCount] = React.useState(0);\" +\r\n                    \"\\n\\treturn <h1 onClick={()=>setCount(count+1)}>Привет, {name} {count}!</h1>;\\n}\\n\\nReactDOM.render(\\n\\t<App/>,\\n\\tdocument.getElementById('root')\\n);\"\r\n    },\r\n]","/**\r\n * initialize global funcs in the sandbox\r\n * \r\n * (обработчики событий, назначенных в атрибутах, должны быть глобальными. Назначаем их глобальными здесь)\r\n * \r\n * @param {*} code \r\n * @returns \r\n */\r\nexport function generateGlobalInintializer(code) {\r\n    let globalInit = (code.match(/^function ([\\w\\d_]+) ?\\(/gm) || [])\r\n        .map(it => it.split(' ').pop().slice(0, -1).trim())\r\n        .map(it => 'globalThis.' + it + ' = ' + it).join(';\\n');\r\n\r\n    return globalInit;\r\n}","// @ts-check\r\n\r\nimport { babelCompiler, compilers } from \"./features/compiler\";\r\nimport { generateGlobalInintializer } from \"./utils/page_generator\";\r\n\r\n\r\nexport { compilers, babelCompiler };\r\n\r\n\r\nexport const playgroundObject = {\r\n    editors: [],\r\n    iframe: null,\r\n    curUrl: null,\r\n    fileStorage:{ _active: 0 }\r\n}\r\n\r\n\r\n/**\r\n * @param {{ [x: string]: string; }} [attrs]\r\n */\r\nfunction createHtml({ body, style, script }, attrs) {\r\n\r\n    // console.log(arguments);\r\n\r\n    const htmlStruct = {\r\n        html: {\r\n            head: {\r\n                style,\r\n                script\r\n            },\r\n            body\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {{ [x: string]: any; html?: { head: { style: any; script: any; }; body: any; }; }} nodeStruct\r\n     */\r\n    function nodeCreate(nodeStruct) {\r\n\r\n        let html = '';\r\n        for (const key in nodeStruct) {\r\n\r\n            let _attrs = attrs[key] || '';\r\n            let content = typeof nodeStruct[key] === typeof nodeStruct\r\n                ? nodeCreate(nodeStruct[key])\r\n                : nodeStruct[key];\r\n\r\n            html += '<' + key + _attrs + '>' + content + '</' + key + '>';\r\n\r\n        }\r\n        return html;\r\n    }\r\n\r\n    return nodeCreate(htmlStruct);\r\n\r\n}\r\n\r\n\r\n/**\r\n * \r\n * TODO: option {simplestBundler, fileStore}\r\n * \r\n * @param {string} [prevUrl]\r\n * @returns {[HTMLElement, string]}\r\n * @param {string | any[]} [additionalScripts]\r\n * @param {string} [scriptType]\r\n * @param {object} [options]\r\n */\r\nexport function createPage(prevUrl, additionalScripts, scriptType, options) {    \r\n    \r\n    if (window['fileStore'] && playgroundObject.editors) {\r\n        const fileStorage = window['fileStore'];\r\n        let activeTab = document.querySelector('.tabs .tab.active');\r\n        // update current tab content:\r\n\r\n        if (fileStorage) {\r\n            fileStorage[fileStorage.innerText] = playgroundObject.editors[2].getValue()\r\n        }        \r\n    }\r\n    \r\n    let appCode = (window['fileStore'] || {})['app.js'];\r\n    // console.log('appCode');\r\n\r\n    let wrapFunc = (/** @type {string} */ code) => {        \r\n\r\n        if (window['simplestBundler']) {\r\n            code = window['simplestBundler'].default(code, window['fileStore']);\r\n            console.log('build...');\r\n        }\r\n        else {\r\n            console.warn('bundler is absent');\r\n            alert('Warn/ look logs')\r\n        }\r\n\r\n        // \r\n        let globalReinitializer = generateGlobalInintializer(code)\r\n\r\n        return 'window.onload = function(){' + code + '\\n\\n' + globalReinitializer + '\\n}';\r\n    }\r\n\r\n    let editors = playgroundObject.editors;\r\n    let htmlContent = ['body', 'style', 'script'].reduce((acc, el, i, arr) => ((acc[el] = i < 2 ? editors[i].getValue() : wrapFunc(appCode || editors[i].getValue())), acc), {});\r\n\r\n    let optionalScripts = ''\r\n    if (additionalScripts && additionalScripts.length) {\r\n        for (let i = 0; i < additionalScripts.length; i++) {\r\n            // htmlContent['body'] += '<script src=\"' + additionalScripts[i] + '\"></script>';\r\n            optionalScripts += '<script src=\"' + additionalScripts[i] + '\"></script>';\r\n        }\r\n    }\r\n    // console.log(htmlContent);    \r\n\r\n    const attrs = {\r\n        script: scriptType\r\n    }\r\n\r\n    // @ts-ignore\r\n    let html = createHtml(htmlContent, attrs);\r\n\r\n    console.log(optionalScripts);\r\n    html = html.replace('<head>', '<head>' + optionalScripts);\r\n    html = html.replace('<head>', '<head><meta charset=\"UTF-8\">');\r\n\r\n    let file = new Blob([html], { type: 'text/html' });\r\n\r\n    prevUrl && URL.revokeObjectURL(prevUrl);\r\n    let url = URL.createObjectURL(file);\r\n\r\n    let view = document.querySelector('.view');\r\n    playgroundObject.iframe && (playgroundObject.iframe.parentElement === view) && view.removeChild(playgroundObject.iframe);\r\n    // view.innerHTML = '';    \r\n\r\n    let frame = document.createElement('iframe');\r\n    frame.src = url;\r\n    view.appendChild(frame)\r\n\r\n    return [frame, url]\r\n}\r\n\r\n\r\n/**\r\n * // @param {(url: string) => [HTMLIFrameElement, string]} [createPageFunc]\r\n * @param {boolean} jsxMode\r\n * ///! param {number} compilerMode\r\n * @param {string[]} compilerMode\r\n * \r\n * TODO: options: {storage (localStorage|sessionStorage), fileStore}\r\n */\r\nexport function webCompile(jsxMode, compilerMode) {\r\n    \r\n    console.log('compile');\r\n\r\n    // [iframe, curUrl] = createPage(curUrl);\r\n    // console.log(iframe);\r\n\r\n    let iframe = playgroundObject.iframe;\r\n    let editors = playgroundObject.editors;\r\n\r\n    if (iframe.contentDocument && !jsxMode) {\r\n\r\n        iframe.contentDocument.body.innerHTML = editors[0].getValue()\r\n        iframe.contentDocument.head.querySelector('style').innerHTML = editors[1].getValue()\r\n\r\n        let lastScript = [].slice.call(iframe.contentDocument.querySelectorAll('script')).pop();\r\n        lastScript && lastScript.parentElement.removeChild(lastScript);\r\n\r\n        // let lastScripts = iframe.contentDocument.querySelectorAll('script');\r\n        // lastScripts && lastScripts.length && Array.prototype.slice.call(lastScripts).forEach((/** @type {{ parentElement: { removeChild: (arg: any) => void; }; }} */ element) =>\r\n        // {\r\n        //     element.parentElement.removeChild(element);\r\n        // });\r\n        \r\n        let script = iframe.contentDocument.createElement('script');\r\n        \r\n        console.log(jsxMode)\r\n        console.log(compilerMode);\r\n\r\n        if (jsxMode) {\r\n            \r\n            // for (let i = 0; i < compilerMode.length; i++) {\r\n            //     const link = compilerMode[i];\r\n\r\n            //     let jsxCompiler = iframe.contentDocument.createElement('script');\r\n            //     jsxCompiler.src = link;\r\n            //     iframe.contentDocument.body.appendChild(jsxCompiler);\r\n            // }\r\n\r\n            script.type = \"text/babel\";\r\n        }\r\n\r\n        let code = editors[2].getValue();\r\n\r\n        let globalReinitializer = generateGlobalInintializer(code)\r\n\r\n        script.innerHTML = '(function(){' + code + ';\\n\\n' + globalReinitializer + '\\n})()'\r\n        iframe.contentDocument.body.appendChild(script)\r\n\r\n        // iframe.contentDocument.head.querySelector('script').innerHTML = editors[2].getValue()\r\n    }\r\n    else {\r\n        // console.log(compilerMode);\r\n        // console.log(Object.values(compilers)[compilerMode]);\r\n        // let [iframe, curUrl] = createPage(playgroundObject.curUrl, Object.values(compilers)[compilerMode], jsxMode ? babelCompiler.mode : undefined);\r\n        let [iframe, curUrl] = createPage(playgroundObject.curUrl, compilerMode, jsxMode ? babelCompiler.mode : undefined);\r\n        playgroundObject.iframe = iframe;\r\n        playgroundObject.curUrl = curUrl;\r\n    }\r\n\r\n    let compiler = Number.parseInt(localStorage.getItem('mode') || '0');\r\n\r\n    localStorage.setItem(compiler + '__html', editors[0].getValue());\r\n    localStorage.setItem(compiler + '__css', editors[1].getValue());\r\n    localStorage.setItem(compiler + '__javascript', editors[2].getValue());\r\n    \r\n    const fileStorage = window['fileStore'];\r\n    let modulesStore = {};\r\n\r\n    //@ts-ignore\r\n    fileStorage[document.querySelector('.tabs .tab.active').innerText] = editors[2].getValue()\r\n\r\n    if (fileStorage && Object.keys(fileStorage).length > 1) {\r\n        \r\n        for (let i = 0; i < Object.keys(fileStorage).length; i++) {\r\n            const fileName = Object.keys(fileStorage)[i];\r\n            if (fileName.startsWith('_')) continue;\r\n            modulesStore[fileName] = fileStorage[fileName];\r\n        }\r\n\r\n        localStorage.setItem('_modules', JSON.stringify(modulesStore));\r\n        console.log('save modules...');\r\n    }\r\n\r\n    // document.getElementById('compiler_mode')\r\n}\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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"}